<!DOCTYPE html>
<html lang="en">
<head>
	<title>Migrations</title>
	<meta charset="utf-8"/>
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<meta name="description" content="this features of the work of 75 Lake Superior area and northern Minnesota writers."/>
	<meta name="keywords" content="migrations northern minnesota iron range writers poets poetry books publisher publishing packa mctavish duluth minnesota northern minnesota"/>
	<meta name="author" content="Sheila Packa">
	<script type="application/ld+json">
		{
			"@context": "http://schema.org",
			"@type": "WebPage",
			"name": "Migrations",
			"breadcrumb": "wildwood river > Migrations 
          	"url": "https://wildwoodriver.com/migrations/index.html",
			"description": "this features of the work of 75 Lake Superior area and northern Minnesota writers",
			"datePublished": "Tue Sep 27 2022",
          	"image": "/apple-touch-icon.png",
			"author": "https://sheilapacka.com/index.html",
			"license": "http://creativecommons.org/licenses/by-nc-sa/3.0/us/deed.en_US"
		}
	</script>
	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-3PZ9ZMVYEG"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag(){dataLayer.push(arguments);}
		gtag('js', new Date());

		gtag('config', 'G-3PZ9ZMVYEG');
	</script>
	<link rel="stylesheet" href="/css/wr.css"/>
	<style>
		details > summary {
			padding: 4px;
  			cursor: pointer;
		}
		a {
			text-decoration: none;
		}
		.gallery {
			min-width: 95%;
			display: flex;
			flex-wrap: wrap;
			flex-direction: row;
			justify-content: flex-start;
			justify-content: center;
			align-items: baseline; /* flex-start */
			align-content: space-around;
		}
		.gallery > img {
			max-width: 400px;
			min-width: 300px;
			max-width: 44%;
			padding: 10px;
		}

		main, div#contentframe {
			min-width: 90%;
			max-width: 900;
		}
		.album {
			display: flex;
			width:100%;
			flex-wrap: wrap;
			align-items: center;
			flex-direction: row;
			align-content: center;
			justify-content: space-between;
		}
		.album audio {
			flex-basis: 50%;
			flex-grow: 0;
		}
		/*justify-content: space-between || space-around || flex-start || flex-end*/
		/*.album audio {
			padding-left: 2em;
			padding-right: 2em;
			color: red;
		}*/
		input.expandToggle {
			display: none;
		}

		/* Style the button */
		.expandToggleBtn {
			display: inline-block;
			flex-basis: 50%;
			text-align:right;
			color: #fff;
			color: var(--warmwhite);
		}
		.expandToggleBtn:before {
			content: ">> ";
		}
		.expandToggleBtn:hover {
			cursor: pointer;
			text-decoration:underline;
		}

		/* Hide expandable content by default */
		ul.expandable {
		  	/*visibility: collapse;*/
			/*display: flex;*/
			margin-top:2em;
			flex-wrap: wrap;
			align-items: left;
			flex-direction: column;
			justify-content: space-between;
			display: none;
		}
		/* Show hidden content when the checkbox is checked */
		.expandToggle:checked ~ *.expandable {
		  /*visibility: visible;*/
		  flex-basis: 100%;
		  display: block;
		}
	</style>
</head>
<body id="top" >
<div id="subtextframe" class="frame zlowest"></div>
<div id="svgframe" class="frame zlow"><svg xmlns="http://www.w3.org/2000/svg" id="svg" class="frame"></svg></div>
<div id="wordframe" class="frame z0"></div>
<!-- <div id="controlframe" class="frame zhighest"></div> -->
<div id="contentframe" class="absolute zhighest">
<div id="mainflex">
<main id="main" class="expand" data-state="expanded">	

<header>
	<h1>Migrations</h1>
	<h2>Edited by Sheila Packa</h2>
</header>
	<p><a href="#summary">book description</a></p>
	<p><a href="https://store.wildwoodriver.com/product/migrations/8">buy book (print or ebook)</a></p>
	<p><a href="#projects">related information</a></p>
	<p><a href="#thanks">thanks / funding</a></p>
	<p><a href="/index.html">wildwood river home</a></p>
	<p><a href="#" id="soundlink" class="corelink">turn on sound</a> <span class="typewriter small" title="telegraph" id="telegraph"></span></p>
<article id="summary">
	<header>
		<h1>book description</h1>
	</header>
	<div class="book">
	<figure>
		<img  align="right"  width="400px" src="/data/migrationscoverimage_small.jpg"/>
		<figcaption>
			Book cover: Northern Minnesota. Fall colors
		</figcaption>
	</figure>
	<div class="text">
		<p>
			<i>Migrations: Poetry &amp; Prose for Life's Transitions</i> features of the work of 75 Lake Superior area and northern Minnesota writers. The book is edited by Sheila Packa, Duluth Poet Laureate 2010-2012. Included are many accomplished writers (Connie Wanek, Ellie Schoenfeld, Deb Cooper, Gary Boelhower, Linda LeGarde Grover, Ryan Vine) and excellent new writers. Each writing captures a moment of change. These changes range from having a new baby to death of a loved one. Some have written about aging, children growing up, illness, bird migration (including a bird being trapped and a bird that doesn't want to migrate), leaving a relationship, moving through violence (several poems, and one specifically about her sister's murder from a domestic violence), and also actual migration (one leaving Argentina during the terror there), and moving back and forth from Minnesota to work in Antarctica. You will love the strong and beautiful collection that shows we are all birds in a larger pattern of migration traveling back and forth from memory to new beginnings.
		</p><hr/><p>
		"The Lake Superior area has either bred or attracted an amazing community of poets, and the best are featured in this diverse collection edited by Sheila Packa.  While the title Migrations implied any number of processes to me, I was struck by how many delightfully (or darkly) unexpected topics Ms. Packa had included.  Love, childbearing, opening, the creative process, Christmas, aging, divorce, the seasons, Paul Wellstone’s death, all and many more are examined in these luminous poems.  Open to any page for the gift of a glimpse into the poet’s mind and heart!
		<br/>-- Carol Orban, retired teacher, Ely, Minnesota
		</p><hr/><p>
Sheila Packa's Migrations is the product of a born writer’s craft nourished and shaped by immigrant work ethic and iron will, Finnish music, burning taconite pellets, long northern Minnesota winters, seeing deep patterns in nature and community and literature. With this potent collection of poems and prose she helps us connect with ourselves and one another as a community in the midst of change, movement and radical growth.
<br/>-- Ann Wallin Harrington, Family Justice Center Facilitator
		</p><hr/><p>
Migrations is a marvelous collection of wide-ranging, in-depth reflections in poetry and prose on major existential transitions and reinventions. It conjures up colorful images of weather, flight, birds, water, air, associated with transformations triggered by experiences such as being trapped, going away, bewilderment, violence, aging, loss, death, trauma, emigration, and departures.
<br/>-- Tineke Ritmeester, PhD, Associate Professor of Women's Studies at the University of Minnesota-Duluth. She is a Dutch immigrant in transition.
		</p><hr/><p>
In your hands, you hold a unique collection of high quality poetry and prose by favorite & by newer Lake Superior area writers. Don't set it down! Turn the book over to examine the cover and lift it to smell this ink-and-paper presentation of singular ideas. And know that Migrations follows the primary rule of poetry, reframing details of your world in ways that jolt your consciousness.
<br/>-- Cal Benson, author of <i>Dakota Boy</i>
		</p><hr/><p>
			Available in bookstores. </br/>
			ISBN 978-0-9843777-3-2</br/>
			Distributor: Ingram</br/>
			$15
		</p>
		<hr/>	
	</div>
	</div>
</article>
<article id="projects">
	<header>
		<h1>related work</h1>
	</header>
	<h5>Media Performances and Readings (2011)</h5>
	<p>
	<ul class="circle">
		<li>
Teatro Zuccone, Duluth, Sunday, Oct 2, at 3:00 pm
		</li><li>
Esko - Moosebrew Coffeehouse - Oct 18, 6:30 pm
		</li><li>
Two Harbors Library, Thursday, Oct 20, 6:30 pm
		</li><li>
Fond Du Lac Tribal and Community College, Thursday, Nov 3, 7 pm
		</li><li>
Lyric Theater in Virginia, Minnesota, Monday, Nov 7, 6:30 pm
		</li><li>
Superior Phantom Gallery, Saturday, Nov 12, 3 pm
		</li><li>
Macrostie Art Center, Grand Rapids, Thursday, Nov 17 at 7 pm
		</li>
	</ul>
	</p><hr/>
	<h5>From the Introduction:</h5>
Each fall, along the western shore of Lake Superior, hundreds of thousands of migrating birds ride the thermal currents above the dark conifers and bright reds and golds of autumn leaves. They follow the shoreline. Under their outstretched wings, I reach for the language of flight as I gather and arrange this collection of poems and prose.
	<p>
This book is about migrations in life that all of us make: the embarking, the long journey, the returning — beginnings and endings, irrevocable. We are like birds in migration, traveling between memory and new beginnings. The stories and poems capture the voices of many writers and the landscape of the North and of Lake Superior.
...
	</p><p>
In every workshop, I hear new and arresting voices. I've included poems of blessing and transition, polished and unpolished, that capture an image, a turning point, and a unique voice. Each was like a bird inside a larger flock and as such, wide-ranging.
...
	</p><p>
Years ago, in the Split Rock Arts Program, I talked with poet Carolyn Forché about the difficulty of finding time to write. It seemed I was always in transition, juggling many responsibilities, and found it challenging to set aside enough time to write.
"Whatever keeps you from your work becomes your work," she said, meaning that I should write about what I was currently grappling with. Along with her husband, freelance photographer, Harry Mattison, she had facilitated the Iron Range Documentation Project. As a social activist and witness to atrocity, Carolyn Forché's own voice became the vehicle of many, and she wrote to reveal the pain and suffering in Nicaragua and other places. Later, she edited an anthology, <i>Against Forgetting: Twentieth Century Poetry of Witness</i> (WW Norton, 1993).
	</p><p>
Poetry can be many things: song, story, memoir, philosophy, image. Poetry can use many narrative strategies: journey, list, prayer, blessing, letter, or quest. Poetry can witness; it can be an agent of change. It can preserve a moment with vivid immediacy. It can awaken. Its purpose is diverse, but it always illuminates.
	</p><p>
I followed Forché's advice, and now give that same advice to a lot of writers. If something is an obstacle, write about it. If something is getting in the way of your writing, then you should be writing about that. If you are preoccupied, let your thoughts go into ink on a page.
	</p><p>
It is important to create a time and place for writing. There is evidence that keeping a journal improves one's health and immunity, and that it speeds recovery from illness. Writing is a tool of the mind, but I also think it is a tool of the soul. The poet Linda Hogan once said, "Whatever you write will make it stronger." Writing helps one find and use a voice. Writing strengthens identity and allows it to develop and change. Writing about place helps us understand our roots and name our desires, not just for ourselves but for the larger world.
	</p><p>
A community that honors and celebrates the arts becomes a community of openness and exchange. Unique voices rise that bring images and stories that stir us. The arts foster diversity not uniformity. The community that invests in the activity of art making is preserving its culture and promoting creativity. We are all strengthened.
	</p><p>
These poems, stories and essays form a conversation; I invite the reader to participate. At this moment, something is changing in your life. Find an image or a metaphor to enter the complexity. For me, writing is a type of way-finding, a lamp in darkness.
	</p>
</article>
<article id="thanks">
	<header>
		<h1>thanks</h1>
	</header>
	<div>
		<p>
		This project was funded in part by an Arts Learning Grant from the Arrowhead Regional Arts Council.
		Thanks also to the Duluth's Poet Laureate Committee for their support.
		</p>
	</div>
</article>
<hr/>
<audio loop=true id="audio1">
<source src="https://storage.googleapis.com/www.blueboatfilms.com/sound/cistern20140630_5_cistern.mp3" type="audio/mpeg">
</audio>
</main>
</div>
</div>
<div id="hidetext"><a id="hidetextlink" href="#" title="hide text">-</a></div>

</body>
<script src="../code/velocity.min.js"></script>
<script src="../code/kefir201911.min.js"></script>
<!-- <script src="code/atlasabsence.js"></script> -->
<script>
let width = window.innerWidth, height = window.innerHeight;
let min = Math.min(width, height), max = Math.max(width, height);
let version = (min < 680 || max < 980) ? "small" : "large";
let v = version === "small" ? 0 : 1;
let z = {};
z.tools = {
	randominteger: (min, max) => {
		return Math.floor( min + Math.random()*(max-min));
	},
	logmsg: function(msg) {
		try { 
			console.log("### ::: " + msg); 
		}
		catch(err) { z.tools.logerror(err) }
	},
	logerror: function(error) {
		try { console.log("rusty error ... " + error); }
		catch(err) {}
	},
	randomhighharmonic: () => {
		let multipliers = [10.0, 12.5, 13.33, 15, 20];
		return multipliers[ z.tools.randominteger( 0, multipliers.length) ];
	},
	randomharmonic: () => {
		let multipliers = [5, 7.5, 10.0, 12.5, 13.33, 15, 20];
		return multipliers[ z.tools.randominteger( 0, multipliers.length) ];
	},
	randomlowharmonic: () => {
		let multipliers = [5, 7.5, 10.0, 12.5, 13.33, 15, 20];
		return multipliers[ z.tools.randominteger( 0, multipliers.length) ]/2;
	},
	randomkey: (object) => {
		let keys = Object.keys(object);
		let key = keys[z.tools.randominteger(0,keys.length)];
		// z.tools.logmsg("key = " + key);
		return key;
	},
	datestr: (date, options) => {
		if(options===undefined) options = {year: "numeric", month: "2-digit", day: "numeric", hour12: true, hour: "2-digit", minute: "2-digit", second: "2-digit"};
		return date.toLocaleTimeString("en-US", options);
		//new Date().toLocaleTimeString("en-US", {year: "numeric", month: "2-digit", day: "numeric", hour12: true, hour: "2-digit", minute: "2-digit", second: "2-digit"});
	},
	togrid: (min=1, max=1, x=1, ndivisions=1) => {
		let dx = Math.floor( (max-min) / ndivisions );
		return Math.floor( ( x-min+dx/2)/dx )*dx + min;
	},
};
//core elements
z.elements = ( () => {
	return {
		body: { el: document.querySelector("body") },
		main: { el: document.querySelector("main") },
		// clock: { el: document.querySelector("#clock") },
		// telegraph: { el: document.querySelector("#telegraph") },
		svg:  { el: document.querySelector("#svg") },
		frames: ["subtextframe", "svgframe", "wordframe", "contentframe"].reduce( (acc, id) => {
			z.tools.logmsg("create frame element ::: " + id);
			acc[id] = { el: document.querySelector("#"+id) };
			return acc;
		}, {}),
	}
})()
	
z.streams = {
	clock: ( () => {
	let dt = 1;
	let date0 = new Date();
	let t0 = Math.floor(date0.getTime()/1000);
	let state0 = { dt: dt, count: 0, date: date0, t: t0, t0: t0 };
	return Kefir.withInterval( dt*1000, emitter => { emitter.emit( { date: new Date() } ) })
			.scan( (state, e) => { 
				state.date = e.date;
				state.t = Math.floor(e.date.getTime()/1000);
				state.count = state.count + 1;
				return state;
			}, state0  )
	})( ),
	dimensions: ( () => {
		let dt = .4;
		const ngrids=[2,2], npasts=[0,0];
		let state0 = { dt: dt, count: 0,
			grid: { nrows: ngrids[v], ncols: ngrids[v], dx: Math.floor(width/ngrids[v]), dy: Math.floor(height/ngrids[v]), sw: 12, pastn: npasts[v] },
			width: width, height: height, 
			max: max, min: min, 
		};
		return Kefir.fromEvents(window, "resize").throttle(dt*1000)
			.scan( (state,e) => {
				state.width = window.innerWidth;
				state.height = window.innerHeight;
				state.max = Math.max(state.width, state.height);
				state.min = Math.min(state.width, state.height);
				state.grid.dx = Math.floor(state.width/state.grid.ncols);
				state.grid.dy = Math.floor(state.height/state.grid.nrows);
				state.grid.sw = Math.floor(Math.max(state.grid.dx*.03, state.grid.dy*.03, 4));
				return state
			}, state0) 
	})( ),
};

z.draw = z => {
	let ntimings = 32;
	let dtiming = Math.floor(400/ntimings);
	const timings = [...Array(ntimings).keys()].reduce( (acc, j) => {
		let duration = 500+(j*dtiming);
		acc[j] = [duration, 900-duration];
	return acc;
	}, []);
	// const timings = [ [380,600], [400,580], [480,500], [500,480], [580,400], [600,380], [640,340], [680,300], [700,280], [740,240], [780,200], [800,180], [840,140], [880,100]];
	// const timings = [ [180,800], [200,780], [280,700], [300,680], [380,600], [400,580], [480,500], [500,480], [580,400], [600,380], [640,340], [680,300], [700,280], [740,240], [780,200], [800,180], [840,140], [880,100]];
	// z.streams["clock"].onValue( e => {
	// 	z.elements["clock"].el.innerHTML = z.tools.datestr(new Date(e.t*1000));
	// });
	//controls
	( () => { 
		let soundlink = document.querySelector("#soundlink");
		let telegraph = document.querySelector("#telegraph");
		let soundplaying = false;
		Kefir.fromEvents(soundlink, "click").onValue( e => {
			z.tools.logmsg("play sound !");
			if(!soundplaying) { 
				try {
					document.querySelector("#audio1").play();
					z.tools.logmsg("playback resumed");
					// telegraph.innerHTML =  "(sound on)";
					soundplaying = true;
					soundlink.innerText = "turn off sound";
					soundlink.classList.add("active");
				} catch(e) { z.tools.logerror("dashboard ::: resumeaudio " + e) } 
			}
			else { 
				try {
					document.querySelector("#audio1").pause();
					// telegraph.innerHTML =  "(sound off)";
					soundplaying = false;
					soundlink.innerText = "turn on sound";
					soundlink.classList.remove("active");
				} catch(e) { z.tools.logerror("dashboard ::: suspendaudio " + e) }
			}
		});
	})();

	const playlist = [
		// colors from book cover
		["#233D40", "#8C6C30", "#73532C", "#59281D"],
		["#00010D", "#233D40", "#735A2D", "#59281D"],
		["#20373B", "#562A1C", "#A17D36", "#4F3E22", "#293734"],
		["#233D40", "#977C34", "#7A5C2F", "#5F3321"],
		// //greens
		//["#D7D6D8", "#8A8B84", "#5C6161", "#6B563F", "#272413", "#423930", "#1E260D", "#3D3A30", "#6D2E29", "#18190C", "#928C87"], //finland arteles
		//["#B5C1CF", "#79838F", "#988D82", "#5B5351", "#665B49", "#5A5A4C", "#575D4E", "#4B594A", "#8291A4"], //finland fields () 
		//["#484A2B", "#423F33", "#594E43", "#91827C", "#C9C7C6", "#44502A", "#5D6445"], //finnish forest (green brown)
	];
	z.streams["color"] = ( dt => {
		let date0 = new Date();
		let t0 = Math.floor(date0.getTime()/1000);
		let state0 = { 
			dt: dt, count: 0,
			choices: playlist[ Math.floor(t0/dt)%playlist.length ]
		};
		return z.streams["clock"].filter( e => e.t%dt===0 )
			.scan( (state, e) => { 
				state.choices = playlist[ Math.floor(e.t/dt)%playlist.length ];
				// state.choices = playlist[ Math.floor(state.count)%playlist.length ];
				state.count = state.count + 1;
				return state;
			}, state0  )
	})( 38 );
	
	z.streams["draw"] = Kefir.combine([z.streams["clock"]], [z.streams["dimensions"], z.streams["color"]], (clock, dimensions, color) => { return {clock:clock, dimensions:dimensions, color:color} })
		.scan( (state, e) => { 
			state.clock = e.clock;
			state.dimensions = e.dimensions;
			state.color = e.color;
			state.count = state.count + 1;
			z.tools.logmsg("color.choices = " + e.color.choices);
			return state;
	}, {clock:{t:0}, dt:1}  );

//box
( dt => {
	const element = document.createElementNS("http://www.w3.org/2000/svg", "rect");
	element.setAttributeNS(null, "id", "box");
	element.setAttributeNS(null, "class", "shape square");
	z.elements["svg"].el.appendChild(element);
		
	z.streams["draw"].filter(e => e.clock.t%dt===0).onValue( e => {
		try {
			let color = e.color.choices[z.tools.randominteger(0, e.color.choices.length)];
			Velocity({	
				elements: element, 
				properties: { fillOpacity: 1.0, strokeOpacity: 0.0, fill: color, width: e.dimensions.width, height: e.dimensions.height },
				options: { duration: 2000,  delay: 0, easing: "easeInOutQuad" },
			});
		} catch(err) { z.tools.logerror("box animation ::: " + err ) }
	})
})(5);

//main
( dt => {
	const element = document.querySelector("main");
	const bgcolors = ["rgba(25, 25, 24, 0.4)", "rgba(25, 25, 24, 0.6)", "rgba(25, 25, 24, 0.9)", "rgba(252, 251, 227, 0.4)", "rgba(252, 251, 227, 0.9)", , "rgba(252, 251, 227, 0.6)"]
	// const warmblacktints = ["#191918", "#2f2f2f", "#464646", "#5e5e5d", "#757574", "#8c8c8b", "#a3a3a2", "#babab9", "#d1d1d0", "#e8e8e7", "#ffffff", "#fcfbe3", "#e2e1cc", "#c9c8b5", "#b0af9e", "#979688", "#7e7d71", "#64645a", "#4b4b44", "#32322d", "#191916", "#000000"];
	const warmblacktints = ["#191918", "#fcfbe3", "#000000"];

	z.streams["draw"].filter(e => e.clock.t%dt===0).onValue( e => {
		try {
			let count = e.clock.t/dt;
			let color = e.color.choices[z.tools.randominteger(0, e.color.choices.length)];
			// z.tools.logmsg("in BOX " + color + " color =  " + color);
			Velocity({	
				elements: element, 
				properties: { backgroundColor:  color, backgroundColorAlpha: z.tools.randominteger(0.1,6)/10},
				options: { duration: 1200,  delay: 0, easing: "easeInOutQuad" },
			});
		} catch(err) { z.tools.logerror("box animation ::: " + err ) }
	})
})(9);


//shapes
( dt => {
	let nshapes = [4,8][v];
	let width = window.innerWidth, height = window.innerHeight;
	const circles = [...Array(nshapes).keys()].reduce( (acc, j) => {
		let el = document.createElementNS("http://www.w3.org/2000/svg", "circle");
		el.setAttributeNS(null, "id", "circle1_"+ j);
		el.setAttributeNS(null, "class", "shape circle");
		el.setAttributeNS(null, "cy", height/2);
		el.setAttributeNS(null, "cx", width/2);
		z.elements["svg"].el.appendChild(el);
		acc[j] = { el: el };
	return acc;
	}, []);

	const drawings = [
		e => {
			try {
				let count = e.clock.t/dt;
				let cx = e.dimensions.width/2;
				let cy = e.dimensions.height/2;
				let r = z.tools.randominteger(e.dimensions.min/8, e.dimensions.min);
				let width = e.dimensions.width, height = e.dimensions.height;

				let color = e.color.choices[z.tools.randominteger(0, e.color.choices.length)];
				Velocity({	
					elements: circles[count%nshapes].el,
					properties: { fillOpacity: 1.0, strokeOpacity: 0.0, fill: color, cx: cx, cy: cy, r: r },
					options: { duration: z.tools.randominteger(1000*dt*nshapes/3,1000*dt*nshapes), delay: 0 },
				});
			} catch(err) { z.tools.logerror("circle animation 1 ::: " + err ) }
		},
		
	];
	z.streams["draw"].filter(e => e.clock.t%dt===0).onValue( e => {
		drawings[0](e);
	})
})(2);


//shapes
( measure => {
	let dt = Math.floor(measure*1000/4);
	let nshapes = [16,32][v];
	let width = window.innerWidth, height = window.innerHeight;
	let numbers = [...Array(Math.ceil(nshapes*2)).keys()].reduce( (acc, j) => {
		acc[j] = z.tools.randominteger(0,100);
		return acc;
	}, []);
	z.tools.logmsg("numbers = " + numbers);
	const lines = [...Array(nshapes).keys()].reduce( (acc, j) => {
		// z.tools.logmsg("create line element ::: " + id);
		let el = document.createElementNS("http://www.w3.org/2000/svg", "line");
		el.setAttributeNS(null, "id", "line_"+ j);
		el.setAttributeNS(null, "class", "shape line");
		el.setAttributeNS(null, "stroke-width", 4);
		z.elements["svg"].el.appendChild(el);
		acc[j] = { el: el };
	return acc;
	}, []);
	const circles = [...Array(nshapes).keys()].reduce( (acc, j) => {
		let el = document.createElementNS("http://www.w3.org/2000/svg", "circle");
		el.setAttributeNS(null, "id", "circle_"+ j);
		el.setAttributeNS(null, "class", "shape circle");
		el.setAttributeNS(null, "cy", j%2===0 ? numbers[(j+1)%nshapes]*height/100 : numbers[j]*height/100);
		el.setAttributeNS(null, "cx", j%2===0 ? numbers[(j+2)%nshapes]*width/100 : numbers[(j+1)%nshapes]*width/100);
		z.elements["svg"].el.appendChild(el);
		acc[j] = { el: el };
	return acc;
	}, []);

	const drawings = [
		e => {
			try {
				let count = e.clock.t/measure;
				// let cx = Math.floor(numbers[z.tools.randominteger(0,numbers.length)]*e.dimensions.width/100);
				// let cy = Math.floor(numbers[z.tools.randominteger(0,numbers.length)]*e.dimensions.height/200);
				let cx = Math.floor(numbers[count%numbers.length]*e.dimensions.width/100);
				let cy = Math.floor(numbers[(count+1)%numbers.length]*e.dimensions.height/100);
				let r = z.tools.randominteger(24, e.dimensions.min/8);
				let j = (count*2)%nshapes;
				let width = e.dimensions.width, height = e.dimensions.height;
				
				lines[j].el.setAttributeNS(null, "x1", cx);
				lines[j].el.setAttributeNS(null, "x2", cx);
				lines[j].el.setAttributeNS(null, "y1", e.dimensions.height);
				lines[j].el.setAttributeNS(null, "y2", e.dimensions.height*2);
				// lines[j].el.setAttributeNS(null, "stroke-width", 8);
				lines[(j+1)%nshapes].el.setAttributeNS(null, "x1", e.dimensions.width);
				lines[(j+1)%nshapes].el.setAttributeNS(null, "x2", e.dimensions.width*2);
				lines[(j+1)%nshapes].el.setAttributeNS(null, "y1", cy);
				lines[(j+1)%nshapes].el.setAttributeNS(null, "y2", cy);
				

				z.tools.logmsg("shapes : cx = " + cx + " cy = " + cy + " r = " + r);
				let color = e.color.choices[z.tools.randominteger(0, e.color.choices.length)];
				Velocity({	
					elements: lines[j].el,
					properties: { strokeOpacity: 1.0, stroke: color, x1: cx, x2: cx, y1: -1.0*e.dimensions.height, y2: 0 },
					options: { duration: dt*nshapes/2,  delay: 0 },
				});
				color = e.color.choices[z.tools.randominteger(0, e.color.choices.length)];
				Velocity({	
					elements: lines[(j+1)%nshapes].el,
					properties: { strokeOpacity: 1.0, stroke: color, x1: -1.0*e.dimensions.width, x2: 0, y1: cy, y2: cy },
					options: { duration: dt*nshapes/2-400,  delay: 200 },
				});
				color = e.color.choices[z.tools.randominteger(0, e.color.choices.length)];
				Velocity({	
					elements: circles[j].el,
					properties: { fillOpacity: 1.0, strokeOpacity: 0.0, fill: color, cx: cx, cy: cy, r: r },
					options: { duration: dt*nshapes/4,  delay: 0 },
				});
				color = e.color.choices[z.tools.randominteger(0, e.color.choices.length)];
				Velocity({	
					elements: circles[(j+1)%nshapes].el,
					properties: { opacity: 1.0, fillOpacity: 1.0, strokeOpacity: 0.0, fill: color, cx: cx, cy: cy, r: 18 },
					options: { duration: dt*nshapes/3,  delay: 200 },
				});

			} catch(err) { z.tools.logerror("circle animation 1 ::: " + err ) }
		},
		
	];
	z.streams["draw"].filter(e => e.clock.t%measure===0).onValue( e => {
		drawings[0](e);
	})
})(4);



};
//controls
( () => { 
	const hidetextlink = document.querySelector("#hidetextlink");
	let texthidden = false;
	Kefir.fromEvents(hidetextlink, "click").onValue( e => {
		if(texthidden) {
			z.elements["main"].el.style["opacity"] = 1.0;
			hidetextlink.innerText = "-";
			hidetextlink.title = "hide text";
			texthidden = false;
		}
		else {
			z.elements["main"].el.style["opacity"] = 0.0;
			hidetextlink.innerText = "+";
			hidetextlink.title = "show text";
			texthidden = true;
		}
	});
})();

window.addEventListener('load', e => {
   z.draw(z);
  window.scroll(0,0);
  // window.setTimeout(() => { document.querySelector("#contentframe").style.opacity = 1.0 }, 1800);
  // window.setTimeout(() => { document.querySelector("#controls").style.backgroundColor = "rgba(0,0,0,0.0)" }, 6800);
});
window.addEventListener('beforeunload', e => {
	window.scroll(0,0);
});
</script>
</html>
